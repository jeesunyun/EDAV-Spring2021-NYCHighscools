# Results

Explore characteristics shared by schools

```{r}
# grades in schools
t(table(hs_final$grades2018))
```

The table shows that schools are mostly from grades 9 to 12, and 6 to 12.
We want to see characteristics of these schools, especially in what classes and diploa are offered.
We separate the columns of such columns by `","` since they are currently in a free text form and change them to categories.

## Courses and Programs
```{r}
# what kind of charateristics in 6 to 12?
ap_lang_diploma <- hs_final[which(hs_final$grades2018 == "6 to 12" | hs_final$grades2018 == "9 to 12"), ] %>% 
  dplyr::select(-c(neighborhood, hs_enroll, non_hs, PK, Grade_K, Grade_1, Grade_2, Grade_3, Grade_4, Grade_5, finalgrades)) %>%
  rownames_to_column('school') %>% 
  mutate(language_classes = stringr::str_split(language_classes, pattern= ","),
         advancedplacement_courses = stringr::str_split(advancedplacement_courses, pattern= ","),
         diplomaendorsements = stringr::str_split(diplomaendorsements, pattern= ",")) %>% 
  unnest(language_classes) %>% 
  unnest(advancedplacement_courses) %>% 
  unnest(diplomaendorsements) %>% 
  dplyr::select(dbn,school,Borough, language_classes, advancedplacement_courses, diplomaendorsements) %>% 
  mutate(Borough = as.factor(Borough),
         language_classes = as.factor(language_classes),
         advancedplacement_courses = as.factor(advancedplacement_courses),
         diplomaendorsements = as.factor(diplomaendorsements))

head(ap_lang_diploma)
```

```{r, message=FALSE, include=FAlSE}
library(RColorBrewer)
library(vcd)
library(ggthemes)
```

1. Treat language classes and AP courses as factors and see if the classes available are different according to borough.
```{r, fig.width=15, fig.height=7}
colors <- colorblind_pal()(5)

ap_lang_diploma %>%  group_by(Borough, language_classes, advancedplacement_courses) %>% 
  summarize(total= n()) %>% 
  ggplot(aes(x= fct_infreq(language_classes), y= total))+
  geom_bar(position= "dodge", stat= "identity")+
  facet_grid(~Borough)+
  theme(axis.text.x = element_text(angle = 90, vjust = 0.5, hjust=1))

  


```

2. What kind of programs are offered: art, science, etc



## Demographics

1. Demographics of high school students in New York in a whole

```{r}
final_demo <- hs_final %>%
  dplyr::select(Borough, neighborhood, n_Female:pct_White)

ggplot(final_demo, aes(x= , y= , fill= neighborhood))+
  geom+
  
```


2. How different demographics are represented by neighborhood
3. 